Index: config/jextreme.properties
===================================================================
--- config/jextreme.properties	(revision 1.0)
+++ config/jextreme.properties	(working copy)
@@
+#=============================================================
+#               Anti DualBox System
+#=============================================================
+
+AntiDualBoxEnable = true
+AntiDualBoxMaxConnections = 2
+
+# IPs liberados (LAN house / cyber café)
+# Separe por vírgula
+AntiDualBoxWhitelistedIps = 189.10.20.30,177.55.66.77

Index: java/net/sf/l2j/Config.java
===================================================================
--- java/net/sf/l2j/Config.java	(revision 1.0)
+++ java/net/sf/l2j/Config.java	(working copy)
@@
+	public static boolean ANTI_DUALBOX_ENABLE;
+	public static int ANTI_DUALBOX_MAX_CONNECTIONS;
+	public static String ANTI_DUALBOX_WHITELISTED_IPS;
+
@@
 		try
 		{
 			Properties custom = new Properties();
 			InputStream is = new FileInputStream(new File(CUSTOM_CONFIG_FILE));
 			custom.load(is);
 			is.close();
+
+			// ============================================================
+			// Anti DualBox System
+			// ============================================================
+			ANTI_DUALBOX_ENABLE = Boolean.parseBoolean(custom.getProperty("AntiDualBoxEnable", "false"));
+			ANTI_DUALBOX_MAX_CONNECTIONS = Integer.parseInt(custom.getProperty("AntiDualBoxMaxConnections", "1"));
+			ANTI_DUALBOX_WHITELISTED_IPS = custom.getProperty("AntiDualBoxWhitelistedIps", "");
 		}
 		catch (Exception e)
 		{
 			_log.warning("Error loading jextreme.properties");
 		}

Index: java/net/sf/l2j/gameserver/custom/Antidualbox.java
===================================================================
--- java/net/sf/l2j/gameserver/custom/Antidualbox.java	(revision 1.0)
+++ java/net/sf/l2j/gameserver/custom/Antidualbox.java	(working copy)
@@
+package net.sf.l2j.gameserver.custom;
+
+import java.util.HashSet;
+import java.util.Set;
+
+import net.sf.l2j.Config;
+import net.sf.l2j.commons.pool.ThreadPool;
+import net.sf.l2j.gameserver.model.World;
+import net.sf.l2j.gameserver.model.actor.Player;
+
+/**
+* @author ViniciusDev
+*
+*/
+
+public class Antidualbox
+{
+	private static final int DISCONNECT_DELAY = 20_000;
+	private static final Set<String> WHITELISTED_IPS = new HashSet<>();
+
+	static
+	{
+		if (Config.ANTI_DUALBOX_WHITELISTED_IPS != null && !Config.ANTI_DUALBOX_WHITELISTED_IPS.isEmpty())
+		{
+			for (String ip : Config.ANTI_DUALBOX_WHITELISTED_IPS.split(","))
+				WHITELISTED_IPS.add(ip.trim());
+		}
+	}
+
+	public static void checkAndPunish(Player player)
+	{
+		if (!Config.ANTI_DUALBOX_ENABLE || player == null || player.isGM())
+			return;
+
+		final String ip = getClientAddress(player);
+		if (ip == null || WHITELISTED_IPS.contains(ip))
+			return;
+
+		int connections = 0;
+
+		for (Player other : World.getInstance().getPlayers())
+		{
+			if (other == null || other.isGM())
+				continue;
+
+			final String otherIp = getClientAddress(other);
+			if (ip.equals(otherIp))
+				connections++;
+		}
+
+		if (connections > Config.ANTI_DUALBOX_MAX_CONNECTIONS)
+			punish(player);
+	}
+
+	private static void punish(Player player)
+	{
+		player.sendMessage("DualBox não é permitido neste servidor.");
+		player.sendMessage("Você será desconectado em 20 segundos.");
+
+		ThreadPool.schedule(() ->
+		{
+			if (player.isOnline())
+				player.logout(true);
+		}, DISCONNECT_DELAY);
+	}
+
+	private static String getClientAddress(Player player)
+	{
+		try
+		{
+			return player.getClient().getConnection().getInetAddress().getHostAddress();
+		}
+		catch (Exception e)
+		{
+			return null;
+		}
+	}
+}

Index: java/net/sf/l2j/gameserver/network/clientpackets/EnterWorld.java
===================================================================
--- java/net/sf/l2j/gameserver/network/clientpackets/EnterWorld.java	(revision 1.0)
+++ java/net/sf/l2j/gameserver/network/clientpackets/EnterWorld.java	(working copy)
@@
+import net.sf.l2j.gameserver.custom.Antidualbox;
@@
 		player.onPlayerEnter();
+
+		Antidualbox.checkAndPunish(player);
 
 		sendPacket(new SkillCoolTime(player));
